# اختبار عرض الفصول الدراسية

## كيفية الاختبار

### 1. التحقق من الشهر الحالي

افتح شاشة الدرجات وشاهد الـ **Debug Console**. ستجد رسائل مثل:

```
📅 الشهر الحالي: 10
📊 عرض الفصل الثاني: نعم ✅
📚 الفصل الحالي: الأول
```

### 2. فهم الرسائل

- **📅 الشهر الحالي**: الشهر الحالي (1-12)
- **📊 عرض الفصل الثاني**: 
  - "نعم ✅" → يتم عرض زر الفصل الثاني
  - "لا ❌" → زر الفصل الثاني مخفي
- **📚 الفصل الحالي**: الفصل الذي يتم عرضه حالياً

### 3. النتيجة المتوقعة

| الشهر الحالي | عرض الفصل الثاني | الأزرار المعروضة | الفصل الافتراضي |
|--------------|------------------|------------------|-----------------|
| 1 (يناير) | لا ❌ | **الأول فقط** | الأول 📘 |
| 2 (فبراير) | نعم ✅ | الأول + الثاني | الثاني 📗 |
| 3-8 | نعم ✅ | الأول + الثاني | الثاني 📗 |
| 9-12 | نعم ✅ | الأول + الثاني | الأول 📘 |

### 4. التحقق البصري

#### في يناير (الشهر = 1):
```
┌───────────────────────────┐
│       الفصل الأول        │  ← زر واحد بعرض كامل
└───────────────────────────┘
```

#### من فبراير - ديسمبر (الشهر >= 2):
```
┌─────────────┬─────────────┐
│ الفصل الأول │ الفصل الثاني │  ← زران
└─────────────┴─────────────┘
```

## اختبار محاكي (للمطورين)

إذا كنت تريد اختبار سلوك الشهر المختلف:

### تغيير مؤقت في الكود (للاختبار فقط):

```dart
// في build method - سطر 537
final now = DateTime.now();

// للاختبار: محاكاة يناير
final now = DateTime(2025, 1, 15); // شهر 1 = يناير

// للاختبار: محاكاة فبراير
final now = DateTime(2025, 2, 15); // شهر 2 = فبراير
```

**⚠️ تحذير**: لا تنسَ إرجاع الكود إلى `DateTime.now()` بعد الاختبار!

## تشخيص المشاكل

### المشكلة: لا يظهر التغيير

**الحل:**
1. اعمل **Hot Restart** (Shift + R في VS Code)
2. تأكد من حفظ الملف
3. شاهد الـ Debug Console للرسائل

### المشكلة: الرسائل لا تظهر في Console

**الحل:**
1. تأكد أنك في **Debug Mode** وليس Release
2. افتح Debug Console في IDE

### المشكلة: الزر لا يزال يظهر في يناير

**السبب المحتمل:**
- تأكد أن تاريخ الجهاز/المحاكي صحيح
- تأكد من أن الكود تم تحديثه بشكل صحيح

**الحل:**
1. افحص رسالة "📅 الشهر الحالي" في Console
2. إذا كان الشهر خاطئ، تحقق من إعدادات النظام

## الكود المسؤول

### التحقق من الشهر:
```dart
// في build method
final now = DateTime.now();
final canShowSecondSemester = now.month >= 2;
```

### شرط العرض:
```dart
child: canShowSecondSemester
    ? Row(...) // يعرض زرين
    : GestureDetector(...) // يعرض زر واحد
```

## مثال على رسائل Console

### في يناير (الشهر = 1):
```
📅 الشهر الحالي: 1
📊 عرض الفصل الثاني: لا ❌
📚 الفصل الحالي: الأول
```
**النتيجة**: زر الفصل الأول فقط ✅

### في أكتوبر (الشهر = 10):
```
📅 الشهر الحالي: 10
📊 عرض الفصل الثاني: نعم ✅
📚 الفصل الحالي: الأول
```
**النتيجة**: زران (الأول + الثاني) ✅

## الخلاصة

✅ **قبل شهر 2**: الفصل الأول فقط  
✅ **من شهر 2 فصاعداً**: الفصل الأول + الفصل الثاني  
✅ **التحقق**: شاهد Debug Console  
✅ **الاختبار**: Hot Restart بعد أي تغيير  
