# ุฏููู ุทุจุงุนุฉ ุงูุทูุจุงุช ูุงูุฑุฏูุฏ (API Logging)

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุณูู ูุธุงู ุทุจุงุนุฉ ุงูุทูุจุงุช ูุงูุฑุฏูุฏ ูู ุงูุชุทุจูู ููููู ุฃูุซุฑ ูุถูุญุงู ูุณูููุฉ ูู ุงููุฑุงุกุฉ ูุงูู debugging.

## ุดูู ุงูุทุจุงุนุฉ ุงูุฌุฏูุฏ

### ๐ค ุทุจุงุนุฉ ุงูุทูุจ (Request)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ค API REQUEST
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐น Method:   POST
๐น URL:      https://organization.com/api/auth/login
๐น BaseURL:  https://organization.com

๐ Headers:
   Content-Type: application/json
   Accept: application/json
   Authorization: eyJhbGciOi...[hidden]

๐ฆ Request Body:
   {
     "username": "teacher@example.com",
     "password": "********"
   }
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### โ ุทุจุงุนุฉ ุงูุฑุฏ ุงููุงุฌุญ (Successful Response)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ API RESPONSE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ข Status:  200 OK
๐น Method:  POST
๐น URL:     https://organization.com/api/auth/login

๐ Response Headers:
   content-type: application/json
   content-length: 1234

๐ฆ Response Body:
   {
     "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
     "userType": "teacher",
     "profile": {
       "userId": "123",
       "userName": "teacher1",
       "fullName": "ุฃุญูุฏ ูุญูุฏ"
     }
   }
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### โ ุทุจุงุนุฉ ุงูุฑุฏ ุงููุงุดู (Failed Response)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ API RESPONSE
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ด Status:  404 Not Found
๐น Method:  GET
๐น URL:     https://organization.com/api/session

๐ Response Headers:
   content-type: application/json

๐ฆ Response Body:
   {
     "error": "ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุจูุงูุงุช ุงููุทููุจุฉ",
     "message": "Session not found"
   }
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ุงููุนูููุงุช ุงููุนุฑูุถุฉ

### ูู ุงูุทูุจ (Request)
- โ **Method** - ููุน ุงูุทูุจ (GET, POST, PUT, DELETE)
- โ **URL** - ุงูุฑุงุจุท ุงููุงูู ุงูููุณุชุฎุฏู
- โ **BaseURL** - ุงูู base URL ุงูููุณุชุฎุฏู (ููุชุฃูุฏ ูู organization URL)
- โ **Headers** - ุฌููุน ุงูู headers (ูุน ุฅุฎูุงุก Authorization)
- โ **Body** - ูุญุชูู ุงูุทูุจ ุจุตูุบุฉ JSON ููุณูุฉ

### ูู ุงูุฑุฏ (Response)
- โ **Status Code** - ุฑูุฒ ุงูุญุงูุฉ ูุน ุงููุต (200 OK, 404 Not Found, ุฅูุฎ)
- โ **Icon** - ุฑูุฒ ูุฌุงุญ (โ) ุฃู ูุดู (โ)
- โ **Color** - ููู ููุญุงูุฉ (๐ข ูุฌุงุญ / ๐ด ูุดู)
- โ **Method** - ููุน ุงูุทูุจ
- โ **URL** - ุงูุฑุงุจุท ุงูููุณุชุฎุฏู
- โ **Headers** - ุฌููุน ุงูู response headers
- โ **Body** - ูุญุชูู ุงูุฑุฏ ุจุตูุบุฉ JSON ููุณูุฉ

## ุงูุฃูุงู (Security)

### ุฅุฎูุงุก ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

ุชููุงุฆูุงู ูุชู ุฅุฎูุงุก:
```dart
// Authorization header
Authorization: eyJhbGciOi...[hidden]
// ุจุฏูุงู ูู ุนุฑุถ ุงูู token ูุงููุงู
```

## ุฃููุงุฏ ุงูุญุงูุฉ HTTP (Status Codes)

| ุงูููุฏ | ุงููุต | ุงููุนูู |
|------|------|-------|
| ๐ข 200 | OK | ูุฌุญ ุงูุทูุจ |
| ๐ข 201 | Created | ุชู ุงูุฅูุดุงุก ุจูุฌุงุญ |
| ๐ข 202 | Accepted | ุชู ุงููุจูู |
| ๐ข 204 | No Content | ูุฌุญ ุจุฏูู ูุญุชูู |
| ๐ด 400 | Bad Request | ุทูุจ ุบูุฑ ุตุงูุญ |
| ๐ด 401 | Unauthorized | ุบูุฑ ูุตุฑุญ |
| ๐ด 403 | Forbidden | ููููุน |
| ๐ด 404 | Not Found | ุบูุฑ ููุฌูุฏ |
| ๐ด 422 | Unprocessable Entity | ุจูุงูุงุช ุบูุฑ ุตุงูุญุฉ |
| ๐ด 429 | Too Many Requests | ุทูุจุงุช ูุซูุฑุฉ ุฌุฏุงู |
| ๐ด 500 | Internal Server Error | ุฎุทุฃ ูู ุงูุณูุฑูุฑ |
| ๐ด 502 | Bad Gateway | ุจูุงุจุฉ ุณูุฆุฉ |
| ๐ด 503 | Service Unavailable | ุงูุฎุฏูุฉ ุบูุฑ ูุชุงุญุฉ |

## ููููุฉ ุงุณุชุฎุฏุงู Logs ููู Debugging

### 1. ุงูุชุญูู ูู baseUrl ุงูุตุญูุญ

```
๐น BaseURL:  https://organization.com
```
**โ ุตุญูุญ** - ููุฌุฏ organization URL  
**โ ุฎุทุฃ** - BaseURL ูุงุฑุบ ุฃู ุฎุงุทุฆ

### 2. ุงูุชุญูู ูู Authorization Token

```
๐ Headers:
   Authorization: eyJhbGciOi...[hidden]
```
**โ ุตุญูุญ** - ููุฌุฏ Authorization header  
**โ ุฎุทุฃ** - ูุง ููุฌุฏ Authorization header (ูุฏ ุชุญุชุงุฌ login)

### 3. ุงูุชุญูู ูู Request Body

```
๐ฆ Request Body:
   {
     "username": "teacher1",
     "password": "test123"
   }
```
ุชุฃูุฏ ูู:
- ุฌููุน ุงูุญููู ุงููุทููุจุฉ ููุฌูุฏุฉ
- ุงูููู ุตุญูุญุฉ
- ุงูุชูุณูู ุตุญูุญ

### 4. ููู ุฃุฎุทุงุก ุงูุณูุฑูุฑ

```
๐ด Status:  404 Not Found

๐ฆ Response Body:
   {
     "error": "User not found"
   }
```
ููุง ุงููุดููุฉ ูุงุถุญุฉ: ุงููุณุชุฎุฏู ุบูุฑ ููุฌูุฏ

### 5. ููุงุฑูุฉ ุงูุทูุจ ูุงูุฑุฏ

ูุงุฑู ุจูู:
- ุงูู Request Body ุงูููุฑุณู
- ุงูู Response Body ุงูููุณุชูู
- ุชุฃูุฏ ุฃู ุงูุฑุฏ ูุญุชูู ุนูู ุงูุจูุงูุงุช ุงููุชููุนุฉ

## ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุชุณุฌูู ุงูุฏุฎูู ุงููุงุฌุญ

```
๐ค REQUEST
๐น Method:   POST
๐น URL:      https://org.com/api/auth/login
๐ฆ Body:     { "username": "teacher1", "password": "***" }

โ RESPONSE
๐ข Status:  200 OK
๐ฆ Body:     { "token": "...", "userType": "teacher" }
```
**โ ูุฌุญ** - ุชู ุงูุญุตูู ุนูู token

### ูุซุงู 2: ุฎุทุฃ ูู ุงูุจูุงูุงุช

```
๐ค REQUEST
๐น Method:   POST
๐น URL:      https://org.com/api/session/add
๐ฆ Body:     { "title": "New Session" }

โ RESPONSE
๐ด Status:  422 Unprocessable Entity
๐ฆ Body:     { "error": "startAt is required" }
```
**โ ุฎุทุฃ** - ุญูู startAt ููููุฏ

### ูุซุงู 3: ูุดููุฉ ูู baseUrl

```
๐ค REQUEST
๐น BaseURL:  (empty)
๐น URL:      /api/session

โ ERROR: No host specified in URL
```
**โ ุฎุทุฃ** - baseUrl ูุงุฑุบุ ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู

## ูุตุงุฆุญ ููู Debugging

1. **ุฏุงุฆูุงู ุงูุญุต baseURL ุฃููุงู**
   - ุชุฃูุฏ ุฃูู ููุณ ูุงุฑุบุงู
   - ุชุฃูุฏ ุฃูู ุงูู organization ุงูุตุญูุญ

2. **ุชุญูู ูู Authorization**
   - ูุฌุจ ุฃู ูุธูุฑ ูู ุฌููุน ุงูุทูุจุงุช ุงููุญููุฉ
   - ุฅุฐุง ููููุฏุ ูุฏ ุชุญุชุงุฌ ุฅุนุงุฏุฉ ุชุณุฌูู ุงูุฏุฎูู

3. **ุงูุฑุฃ Response Body ุจุนูุงูุฉ**
   - ุฑุณุงุฆู ุงูุฎุทุฃ ุชุญุชูู ูุนูููุงุช ูููุฉ
   - ุชุญูู ูู ุงูุญููู ุงููุทููุจุฉ

4. **ูุงุฑู Status Codes**
   - 2xx = ูุฌุงุญ โ
   - 4xx = ุฎุทุฃ ูู ุงูุนููู โ
   - 5xx = ุฎุทุฃ ูู ุงูุณูุฑูุฑ โ

5. **ุงุณุชุฎุฏู Search ูู Console**
   - ุงุจุญุซ ุนู "๐ค" ููุทูุจุงุช
   - ุงุจุญุซ ุนู "โ" ูููุฌุงุญ
   - ุงุจุญุซ ุนู "โ" ููุฃุฎุทุงุก

## ุงูุชูุนูู/ุงูุชุนุทูู

ุงูู logging ูุนูู **ููุท ูู Debug Mode**:
```dart
if (kDebugMode) {
  // ุทุจุงุนุฉ ุงูู logs
}
```

ูู Release Modeุ ูุง ูุชู ุทุจุงุนุฉ ุฃู logs (ููุฃุฏุงุก ูุงูุฃูุงู).

## ุงูููู ุงููุณุคูู

ุฌููุน ุงูุชุญุณููุงุช ูู:
```
lib/api/api_client.dart
- _logRequest()  โ ุทุจุงุนุฉ ุงูุทูุจ
- _logResponse() โ ุทุจุงุนุฉ ุงูุฑุฏ
```
